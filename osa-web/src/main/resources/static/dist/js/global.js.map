{"version":3,"sources":["../../js/global.js"],"names":["$","renderCode","length","renderFramework","Vue","el","data","leftMenuConfig","api","logo","apiCallback","ready","topbarConfig","icon","title","text","action","log","gd","showSuccess","badge","showWarning","toggleFullscreen","dropItems","convert","document","createElement","pre","each","_","textContent","value","html","innerHTML","whiteSpace","match","replace","RegExp","trim","className","replaceWith","Prism","highlightAll","ajaxSetup","headers","Authorization","localStorage","token"],"mappings":";;AAAA;;;AAGAA,EAAE,YAAW;AACTC;AACA,QAAID,EAAE,YAAF,EAAgBE,MAAhB,GAAyB,CAA7B,EAAgC;AAC5BC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACH,CAXD;AAYA;AACA,SAASA,eAAT,GAA2B;AACvB,QAAIC,GAAJ,CAAQ;AACJC,YAAI,YADA;AAEJC,cAAM;AACFC,4BAAgB;AACZC,qBAAK,uBADO,EACkB;AAC9B;AACAC,sBAAM,4BAHM,EAGwB;AACpCC,6BAAa,qBAASJ,IAAT,EAAe;AACxB;AACA,2BAAOA,IAAP;AACH,iBAPW;AAQZK,uBAAO,eAASL,IAAT,EAAe,CAGrB;AAFG;AACA;;AAEJ;;;;;;;;;;;;;;;AAZY,aADd;AA6BFM,0BAAc,CACV;AACIC,sBAAM,aADV,EACyB;AACrBC,uBAAO,IAFX,EAEiB;AACbC,sBAAM,MAHV,EAGkB;AACdC,wBAAQ,gBAASV,IAAT,EAAe;AACnBW,wBAAIX,IAAJ;AACA;AACAY,uBAAGC,WAAH,CAAe,SAAf;AACH;AARL,aADU,EAWV;AACIN,sBAAM,kBADV;AAEIC,uBAAO,IAFX;AAGIM,uBAAO,IAHX,EAGiB;AACbJ,wBAAQ,kBAAW;AACfE,uBAAGG,WAAH,CAAe,OAAf;AACH;AANL,aAXU,EAmBV;AACIR,sBAAM,qBADV;AAEIC,uBAAO,IAFX;AAGIE,wBAAQ,kBAAW;AACfE,uBAAGI,gBAAH;AACH;AALL,aAnBU,EA0BV;AACIT,sBAAM,kBADV;AAEIE,sBAAM,QAFV;AAGIQ,2BAAW;AACP;AACA;AACIV,0BAAM,WADV;AAEIE,0BAAM,MAFV,EAEkB;AACdC,4BAAQ,gBAASV,IAAT,EAAe;AACnBW,4BAAIX,IAAJ;AACA;AACAY,2BAAGC,WAAH,CAAe,SAAf;AACH;AAPL,iBAFO,EAWP;AACIJ,0BAAM,IADV;AAEIC,4BAAQ,kBAAW;AACfE,2BAAGC,WAAH,CAAe,OAAf;AACH;AAJL,iBAXO;AAHf,aA1BU;AA7BZ;AAFF,KAAR;AAkFH;AACD;AACA,SAASlB,UAAT,GAAsB;AAClB,QAAIuB,UAAUC,SAASC,aAAT,CAAuB,KAAvB,CAAd;AACA,QAAIC,MAAM,EAAV;AACA3B,MAAE,uBAAF,EAA2B4B,IAA3B,CAAgC,UAASC,CAAT,EAAYxB,EAAZ,EAAgB;AAC5CmB,gBAAQM,WAAR,GAAsBzB,GAAG0B,KAAzB;AACA,YAAIC,OAAOR,QAAQS,SAAnB;AACA,YAAIC,aAAaF,KAAKG,KAAL,CAAW,MAAX,CAAjB;AACA,YAAID,WAAWhC,MAAX,GAAoB,CAAxB,EAA2B;AACvB8B,mBAAOA,KAAKI,OAAL,CAAa,IAAIC,MAAJ,CAAW,OAAOH,WAAW,CAAX,CAAlB,EAAiC,GAAjC,CAAb,EAAoD,IAApD,EAA0DI,IAA1D,EAAP;AACH;AACDX,cACI,6CACCtB,GAAGkC,SAAH,IAAgB,eADjB,IAEA,IAFA,GAGAP,IAHA,GAIA,eALJ;AAMAhC,UAAEK,EAAF,EAAMmC,WAAN,CAAkBb,GAAlB;AACH,KAdD;AAeAc,UAAMC,YAAN;AACH;;AAED;AACA1C,EAAE2C,SAAF,CAAY;AACRC,aAAS;AACLC,uBAAe,aAAaC,aAAaC,KAAb,IAAsB,EAAnC;AADV;AADD,CAAZ","file":"global.js","sourcesContent":["/**\r\n * 些文件中做一些全局性的操作\r\n */\r\n$(function() {\r\n    renderCode();\r\n    if ($('#framework').length > 0) {\r\n        renderFramework();\r\n    }\r\n    // $(document).bind('DOMNodeInserted', function(e) {\r\n    //     console.log(66);\r\n    // });\r\n    // $('#app').on('click', function(e) {\r\n    //     console.log(66);\r\n    // });\r\n});\r\n//渲染框架\r\nfunction renderFramework() {\r\n    new Vue({\r\n        el: '#framework',\r\n        data: {\r\n            leftMenuConfig: {\r\n                api: './data/left_menu.json', //接口地址\r\n                //data: menuData, //api和data二选一，data是菜单的json数据,如果同时定义，以data优先\r\n                logo: './images/tsa_menu_logo.png', //logo地址\r\n                apiCallback: function(data) {\r\n                    //回调函数可对接口数据进行加工，可选\r\n                    return data;\r\n                },\r\n                ready: function(data) {\r\n                    //菜单加载完成回调\r\n                    //log(data);\r\n                }\r\n                /*\r\n                logoStyle: {\r\n                    //设置logo的样式，可选\r\n                    backgroundPosition: '10px'\r\n                },\r\n                mode: 'load', //可以传入'load'或'iframe'来启用load模式与iframe模式，默认是常规模式\r\n                //changeUrl: true, //load与iframe模式下，是否改变url,默认为false\r\n                action: function(data, param) {\r\n                    //load与iframe模式下,菜单点击后的回调，\r\n                    //load模式下，第一个参数为返回的load内容，第二个参数为当前菜单的参数，\r\n                    //iframe模式下，第一个参数为url，第二个参数为当前菜单的参数\r\n                    console.log(data);\r\n                    console.log(param);\r\n                }\r\n                */\r\n            },\r\n            topbarConfig: [\r\n                {\r\n                    icon: 'icon-system', //图标，必选\r\n                    title: '文本', //鼠标放上去的title，可选\r\n                    text: '文本按钮', //图标旁边的文字，可选\r\n                    action: function(data) {\r\n                        log(data);\r\n                        //点击图标执行的动作，可选\r\n                        gd.showSuccess('你点了文本按钮');\r\n                    }\r\n                },\r\n                {\r\n                    icon: 'icon-warning-hex',\r\n                    title: '报警',\r\n                    badge: '60', //如果定义的badge，将显示小红点\r\n                    action: function() {\r\n                        gd.showWarning('你点了报警');\r\n                    }\r\n                },\r\n                {\r\n                    icon: 'icon-fullscreen-hex',\r\n                    title: '全屏',\r\n                    action: function() {\r\n                        gd.toggleFullscreen();\r\n                    }\r\n                },\r\n                {\r\n                    icon: 'icon-account-hex',\r\n                    text: 'system',\r\n                    dropItems: [\r\n                        //如果定义了dropItems，将显示下拉框\r\n                        {\r\n                            icon: 'icon-user',\r\n                            text: '个人信息', //下拉框的文本\r\n                            action: function(data) {\r\n                                log(data);\r\n                                //下拉框的动作\r\n                                gd.showSuccess('你点了个人信息');\r\n                            }\r\n                        },\r\n                        {\r\n                            text: '退出',\r\n                            action: function() {\r\n                                gd.showSuccess('你点了退出');\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    });\r\n}\r\n//渲染代码\r\nfunction renderCode() {\r\n    var convert = document.createElement('div');\r\n    var pre = '';\r\n    $('textarea[type=\"code\"]').each(function(_, el) {\r\n        convert.textContent = el.value;\r\n        var html = convert.innerHTML;\r\n        var whiteSpace = html.match(/^\\s+/);\r\n        if (whiteSpace.length > 0) {\r\n            html = html.replace(new RegExp('\\n' + whiteSpace[0], 'g'), '\\n').trim();\r\n        }\r\n        pre =\r\n            '<pre class=\"line-numbers\"><code class=\"' +\r\n            (el.className || 'language-html') +\r\n            '\">' +\r\n            html +\r\n            '</code></pre>';\r\n        $(el).replaceWith(pre);\r\n    });\r\n    Prism.highlightAll();\r\n}\r\n\r\n/**配置全局ajax */\r\n$.ajaxSetup({\r\n    headers: {\r\n        Authorization: 'Bearer ' + (localStorage.token || '')\r\n    }\r\n});\r\n"]}