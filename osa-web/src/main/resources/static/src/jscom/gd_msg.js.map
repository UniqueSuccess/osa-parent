{"version":3,"sources":["../../../src/jscom/gd_msg.js"],"names":["showTip","closeTip","showSuccess","showWarning","showError","showMsg","closeMsg","successDom","wraningDom","errorDom","$","on","_this","msg","attr","trim","tips","time","one","el","config","dom","css","left","top","zIndex","gd","getMaxZIndex","id","undefined","append","pad","margin","elWidth","outerWidth","elHeight","outerHeight","elLeft","offset","elTop","tipWidth","width","tipHeight","height","position","window","innerWidth","innerHeight","tipLeft","tipRight","tipTop","find","tipBottom","addClass","setTimeout","parents","scroll","resize","remove","insertInfo","extend","closeBtn","parseInt","closeHtml","timeHtml","btnHtml","btn","length","forEach","o","i","class","text","insertMsg","click","index","action","icon","each","animate","curHeight","timer","setInterval","html","right","clearInterval","callback","is","toTop"],"mappings":"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","file":"gd_msg.js","sourcesContent":["let [successDom, wraningDom, errorDom] = ['', '', ''];\r\n$(function() {\r\n    //鼠标划过显示tooltip\r\n    $('body').on('mouseenter', '[tooltip]', function() {\r\n        let _this = $(this);\r\n        let msg = $(this)\r\n            .attr('tooltip')\r\n            .trim();\r\n        let tips = showTip(_this, msg, { time: 0 });\r\n        $(this).one('mouseleave', function() {\r\n            closeTip(tips);\r\n        });\r\n    });\r\n});\r\n//显示tip信息\r\nexport function showTip(el, msg, config) {\r\n    let dom = $(`\r\n    <div class=\"gd-tooltip\">\r\n        <div class=\"gd-tooltip-text\">${msg}</div>\r\n        <div class=\"gd-tooltip-trangle\"></div>\r\n    </div>\r\n    `);\r\n    dom.css({\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: gd.getMaxZIndex() + 1\r\n    });\r\n    //支持设置id\r\n    if (typeof config !== 'undefined' && config.id !== undefined) {\r\n        closeTip($('#' + config.id));\r\n        dom.attr('id', config.id);\r\n    }\r\n    $('body').append(dom);\r\n    let pad = 5; //距窗口边缘5px\r\n    let margin = 10; //距目标元素5px\r\n    let elWidth = $(el).outerWidth(); //目标元素宽度\r\n    let elHeight = $(el).outerHeight(); //目标元素高度\r\n    let elLeft = $(el).offset().left; //目标元素left位置\r\n    let elTop = $(el).offset().top; //目标元素top位置\r\n\r\n    let tipWidth = dom.width(); //tip宽度\r\n    let tipHeight = dom.height(); //tip高度\r\n    let position = 'top';\r\n    if (typeof config !== 'undefined' && config.position !== undefined) {\r\n        //如果设置的位置，以设置的为准\r\n        position = config.position;\r\n    } else {\r\n        //判定显示位置\r\n        if (elTop - tipHeight - margin > pad) {\r\n            position = 'top';\r\n        } else if (elLeft + elWidth + tipWidth + margin + pad < window.innerWidth) {\r\n            position = 'right';\r\n        } else if (elLeft - tipWidth - margin > pad) {\r\n            position = 'left';\r\n        } else if (elTop + elHeight + tipHeight + margin + pad < window.innerHeight) {\r\n            position = 'bottom';\r\n        }\r\n    }\r\n    let offset = 0; //偏移纠正\r\n    if (position === 'top') {\r\n        let tipLeft = elLeft + (elWidth - tipWidth) / 2; //tip left位置\r\n        let tipRight = window.innerWidth - tipLeft - tipWidth; //tip right位置\r\n        let tipTop = elTop - tipHeight - margin; //tip top位置\r\n        if (tipLeft < pad) {\r\n            offset = pad - tipLeft;\r\n        } else if (tipRight < pad) {\r\n            offset = tipRight - pad;\r\n        }\r\n        dom.css({\r\n            left: tipLeft + offset,\r\n            top: tipTop\r\n        });\r\n        dom.find('.gd-tooltip-trangle').css('margin-left', -offset);\r\n    } else if (position === 'bottom') {\r\n        let tipLeft = elLeft + (elWidth - tipWidth) / 2; //tip left位置\r\n        let tipRight = window.innerWidth - tipLeft - tipWidth; //tip right位置\r\n        let tipTop = elTop + elHeight + margin; //tip top位置\r\n        if (tipLeft < pad) {\r\n            offset = pad - tipLeft;\r\n        } else if (tipRight < pad) {\r\n            offset = tipRight - pad;\r\n        }\r\n        dom.css({\r\n            left: tipLeft + offset,\r\n            top: tipTop\r\n        });\r\n        dom.find('.gd-tooltip-trangle').css('margin-left', -offset);\r\n    } else if (position === 'right') {\r\n        let tipLeft = elLeft + elWidth + margin; //tip left位置\r\n        let tipTop = elTop - (tipHeight - elHeight) / 2; //tip top位置\r\n        let tipBottom = window.innerHeight - tipTop - tipHeight; //tip bottom位置\r\n        if (tipTop < pad) {\r\n            offset = pad - tipTop;\r\n        } else if (tipBottom < pad) {\r\n            offset = tipBottom - pad;\r\n        }\r\n        dom.css({\r\n            left: tipLeft,\r\n            top: tipTop + offset\r\n        });\r\n        dom.find('.gd-tooltip-trangle').css('margin-top', -offset);\r\n    } else {\r\n        let tipLeft = elLeft - tipWidth - margin; //tip left位置\r\n        let tipTop = elTop - (tipHeight - elHeight) / 2; //tip top位置\r\n        let tipBottom = window.innerHeight - tipTop - tipHeight; //tip bottom位置\r\n        if (tipTop < pad) {\r\n            offset = pad - tipTop;\r\n        } else if (tipBottom < pad) {\r\n            offset = tipBottom - pad;\r\n        }\r\n        dom.css({\r\n            left: tipLeft,\r\n            top: tipTop + offset\r\n        });\r\n        dom.find('.gd-tooltip-trangle').css('margin-top', -offset);\r\n    }\r\n    $(dom)\r\n        .addClass('gd-tooltip-show')\r\n        .find('.gd-tooltip-trangle')\r\n        .addClass('gd-tooltip-trangle-' + position);\r\n    if (typeof config !== 'undefined' && config.time !== undefined) {\r\n        if (config.time > 0) {\r\n            setTimeout(() => {\r\n                gd.closeTip(dom);\r\n            }, config.time);\r\n        }\r\n    } else {\r\n        setTimeout(() => {\r\n            gd.closeTip(dom);\r\n        }, 3000);\r\n    }\r\n    //滚动和缩放窗口，关闭tips\r\n    $(el)\r\n        .parents()\r\n        .scroll(() => {\r\n            closeTip(dom);\r\n        });\r\n    $(window).resize(() => {\r\n        closeTip(dom);\r\n    });\r\n    return dom;\r\n}\r\n//关闭tip信息\r\nexport function closeTip(dom) {\r\n    $(dom).remove();\r\n}\r\n//显示成功提示\r\nexport function showSuccess(msg, config) {\r\n    return insertInfo(config, msg, 'icon-success');\r\n}\r\n//显示警告提示\r\nexport function showWarning(msg, config) {\r\n    return insertInfo(config, msg, 'icon-notice');\r\n}\r\n//显示错误提示\r\nexport function showError(msg, config) {\r\n    return insertInfo(config, msg, 'icon-error');\r\n}\r\n//显示普通信息\r\nexport function showMsg(msg, config) {\r\n    config = $.extend({}, config);\r\n    if (config.time) {\r\n        config.closeBtn = false;\r\n    } else {\r\n        config.closeBtn = true;\r\n        config.time = 0;\r\n    }\r\n    config.time = parseInt(config.time / 100) * 100;\r\n    let closeHtml = config.closeBtn ? '<i class=\"gd-msg-close icon-close\"></i>' : '';\r\n    let time = config.time / 1000 > 100 ? '100+&nbsp;s' : config.time / 1000 + '&nbsp;s';\r\n    let timeHtml = config.time > 0 ? `<span class=\"gd-msg-time\">${time}</span>` : '';\r\n    let btnHtml = '';\r\n    if (config.btn && config.btn.length > 0) {\r\n        btnHtml += '<div class=\"gd-msg-btn-box\">';\r\n        config.btn.forEach((o, i) => {\r\n            btnHtml += `<button class=\"gd-msg-btn ${o.class ||\r\n                (i === config.btn.length - 1 ? 'gd-btn-cancel' : 'gd-btn')}\">\r\n            ${o.text}\r\n            </button>`;\r\n        });\r\n        btnHtml += '</div>';\r\n    }\r\n    let dom = $(`\r\n    <div class=\"gd-msg\">\r\n    ${closeHtml}${timeHtml}<div class=\"gd-msg-text\">${msg}</div>${btnHtml}\r\n    </div>\r\n    `);\r\n    insertMsg(dom, config);\r\n    dom.find('.gd-msg-close').click(e => closeMsg(dom));\r\n    $(dom)\r\n        .find('.gd-msg-btn')\r\n        .one('click', function() {\r\n            let index = $(dom)\r\n                .find('.gd-msg-btn')\r\n                .index(this);\r\n            if (typeof config.btn[index].action == 'function') {\r\n                config.btn[index].action(dom);\r\n            }\r\n            gd.closeMsg(dom);\r\n        });\r\n    return dom;\r\n}\r\n//将提示信息插入到dom中\r\nfunction insertInfo(config, msg, icon) {\r\n    $('.gd-info').remove();\r\n    config = $.extend({ time: 3000 }, config);\r\n    config.time = parseInt(config.time / 100) * 100;\r\n    let dom = $(`\r\n    <div class=\"gd-info\">\r\n        <i class=\"gd-info-icon ${icon}\"></i><span class=\"gd-info-text\">${msg}</span>\r\n    </div>\r\n    `);\r\n    $(dom).css({\r\n        zIndex: gd.getMaxZIndex() + 1000\r\n    });\r\n    $('body').append(dom);\r\n    if (config.time > 0) {\r\n        setTimeout(() => {\r\n            closeMsg(dom);\r\n        }, config.time);\r\n    }\r\n    return dom;\r\n}\r\n//将消息插入到dom中\r\nfunction insertMsg(dom, config) {\r\n    if (config.id !== undefined) {\r\n        $('#' + config.id).remove();\r\n        dom.attr('id', config.id);\r\n    }\r\n    let top = 60;\r\n    $('.gd-msg').each((i, el) => {\r\n        $(el).animate({ top: top }, 300);\r\n        let curHeight = $(el).outerHeight();\r\n        top += curHeight + 20;\r\n    });\r\n    $(dom).css({\r\n        top,\r\n        zIndex: gd.getMaxZIndex() + 1000\r\n    });\r\n    $('body').append(dom);\r\n    if (config.time > 0) {\r\n        setTimeout(() => {\r\n            let timer = setInterval(() => {\r\n                config.time -= 100;\r\n                if (config.time % 1000 === 0) {\r\n                    $(dom)\r\n                        .find('.gd-msg-time')\r\n                        .html(config.time / 1000 > 100 ? '100+&nbsp;s' : config.time / 1000 + '&nbsp;s');\r\n                }\r\n                if (config.time < 1) {\r\n                    $(dom).animate({ right: -320 }, 300, () => {\r\n                        closeMsg(dom);\r\n                    });\r\n                    clearInterval(timer);\r\n                }\r\n            }, 100); //100ms为单位，太小了不精确\r\n        }, 600);\r\n    }\r\n}\r\n//关闭消息\r\nexport function closeMsg(dom, callback) {\r\n    if (dom.is('.gd-info')) {\r\n        dom.addClass('gd-info-hide');\r\n        setTimeout(() => {\r\n            dom.remove();\r\n        }, 200);\r\n    } else {\r\n        $(dom).animate({ right: -320 }, 300, () => {\r\n            $(dom).remove();\r\n            let toTop = 60;\r\n            $('.gd-msg').each((i, el) => {\r\n                $(el).animate({ top: toTop }, 300);\r\n                let curHeight = $(el).outerHeight();\r\n                toTop += curHeight + 20;\r\n            });\r\n            if (typeof callback === 'function') {\r\n                callback();\r\n            }\r\n        });\r\n    }\r\n}\r\n"]}