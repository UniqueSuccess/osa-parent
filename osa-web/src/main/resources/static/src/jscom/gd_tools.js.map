{"version":3,"sources":["../../../src/jscom/gd_tools.js"],"names":["get","post","query","getMaxZIndex","clone","toggleFullscreen","getBrowserInfo","padLeft","newDate","isDate","window","log","console","url","data","callback","$","ajax","type","dataType","success","response","status","xhr","error","errorText","errorStatus","resultCode","resultMsg","name","reg","RegExp","param","location","search","substr","match","unescape","maxZ","Math","max","apply","map","e","n","css","parseInt","isArray","extend","isPlainObject","fullscreenNode","find","document","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","attr","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","ua","navigator","userAgent","toLowerCase","msie","edge","firefox","opera","chrome","safari","exec","browser","version","num","length","Array","join","slice","value","undefined","replace","Date","date","toString","String","prototype","format","args","result","arguments","key","i","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","floor","S","getMilliseconds","test","$1","getFullYear","k","getRealMonth","setRealMonth","month","setMonth","fn","serializeJSON","serializeObj","array","serializeArray","str","serialize","each","push"],"mappings":";;;;;;;;QAKgBA,G,GAAAA,G;QA4BAC,I,GAAAA,I;QAwBAC,K,GAAAA,K;QAYAC,Y,GAAAA,Y;QAYAC,K,GAAAA,K;QAYAC,gB,GAAAA,gB;QAmCAC,c,GAAAA,c;QAuCAC,O,GAAAA,O;QAMAC,O,GAAAA,O;QAWAC,M,GAAAA,M;AAxLhB;AACAC,OAAOC,GAAP,GAAaC,QAAQD,GAArB;AACA;;;AAGO,SAASX,GAAT,CAAaa,GAAb,EAAkBC,IAAlB,EAAwBC,QAAxB,EAAkC;AACrC,QAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC5BC,mBAAWD,IAAX;AACAA,eAAO,EAAP;AACH;AACDE,MAAEC,IAAF,CAAO;AACHC,cAAM,KADH;AAEHL,aAAKA,GAFF;AAGHC,cAAMA,IAHH;AAIHK,kBAAU,MAJP;AAKHC,iBAAS,iBAASC,QAAT,EAAmBC,MAAnB,EAA2BC,GAA3B,EAAgC;AACrCR,qBAASM,QAAT,EAAmBC,MAAnB,EAA2BC,GAA3B;AACH,SAPE;AAQHC,eAAO,eAASD,GAAT,EAAcE,SAAd,EAAyBC,WAAzB,EAAsC;AACzCX,qBACI;AACIY,4BAAY,CAAC,CADjB;AAEIC,2BAAWH;AAFf,aADJ,EAKIC,WALJ,EAMIH,GANJ;AAQH;AAjBE,KAAP;AAmBH;AACD;;;AAGO,SAAStB,IAAT,CAAcY,GAAd,EAAmBC,IAAnB,EAAyBC,QAAzB,EAAmC;AACtCC,MAAEC,IAAF,CAAO;AACHC,cAAM,MADH;AAEHL,aAAKA,GAFF;AAGHC,cAAMA,IAHH;AAIHK,kBAAU,MAJP;AAKHC,iBAAS,iBAASC,QAAT,EAAmBC,MAAnB,EAA2BC,GAA3B,EAAgC;AACrCR,qBAASM,QAAT,EAAmBC,MAAnB,EAA2BC,GAA3B;AACH,SAPE;AAQHC,eAAO,eAASD,GAAT,EAAcE,SAAd,EAAyBC,WAAzB,EAAsC;AACzCX,qBACI;AACIY,4BAAY,CAAC,CADjB;AAEIC,2BAAWH;AAFf,aADJ,EAKIC,WALJ,EAMIH,GANJ;AAQH;AAjBE,KAAP;AAmBH;AACD;;;AAGO,SAASrB,KAAT,CAAe2B,IAAf,EAAqB;AACxB,QAAIC,MAAM,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,eAA5B,EAA6C,GAA7C,CAAV;AACA,QAAIG,QAAQtB,OAAOuB,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCN,GAAvC,CAAZ;AACA,QAAIE,UAAU,IAAd,EAAoB;AAChB,eAAOK,SAASL,MAAM,CAAN,CAAT,CAAP;AACH,KAFD,MAEO;AACH,eAAO,EAAP;AACH;AACJ;AACD;;;AAGO,SAAS7B,YAAT,GAAwB;AAC3B,QAAImC,OAAOC,KAAKC,GAAL,CAASC,KAAT,CACP,IADO,EAEPzB,EAAE0B,GAAF,CAAM1B,EAAE,QAAF,CAAN,EAAmB,UAAS2B,CAAT,EAAYC,CAAZ,EAAe;AAC9B,YAAI5B,EAAE2B,CAAF,EAAKE,GAAL,CAAS,UAAT,KAAwB,QAA5B,EAAsC,OAAOC,SAAS9B,EAAE2B,CAAF,EAAKE,GAAL,CAAS,SAAT,CAAT,KAAiC,CAAxC;AACzC,KAFD,CAFO,CAAX;AAMA,WAAOP,IAAP;AACH;AACD;;;AAGO,SAASlC,KAAT,CAAeU,IAAf,EAAqB;AACxB,QAAGE,EAAE+B,OAAF,CAAUjC,IAAV,CAAH,EAAmB;AACf,eAAOE,EAAEgC,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBlC,IAAnB,CAAP;AACH,KAFD,MAEM,IAAGE,EAAEiC,aAAF,CAAgBnC,IAAhB,CAAH,EAAyB;AAC3B,eAAOE,EAAEgC,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBlC,IAAnB,CAAP;AACH,KAFK,MAEC;AACH,eAAOA,IAAP;AACH;AACJ;AACD;;;AAGO,SAAST,gBAAT,GAA4B;AAC/B,QAAI6C,iBAAiBlC,EAAE,YAAF,EAAgBmC,IAAhB,CAAqB,uBAArB,CAArB;AACA,QACIC,SAASC,iBAAT,IACAD,SAASE,mBADT,IAEAF,SAASG,oBAFT,IAGAH,SAASI,uBAJb,EAKE;AACE,YAAIJ,SAASK,cAAb,EAA6B;AACzBL,qBAASK,cAAT;AACH,SAFD,MAEO,IAAIL,SAASM,mBAAb,EAAkC;AACrCN,qBAASM,mBAAT;AACH,SAFM,MAEA,IAAIN,SAASO,sBAAb,EAAqC;AACxCP,qBAASO,sBAAT;AACH,SAFM,MAEA,IAAIP,SAASQ,gBAAb,EAA+B;AAClCR,qBAASQ,gBAAT;AACH;AACDV,uBAAeW,IAAf,CAAoB,OAApB,EAA6B,IAA7B;AACH,KAhBD,MAgBO;AACH,YAAIC,SAASV,SAASW,eAAtB;AACA,YAAID,OAAOE,iBAAX,EAA8B;AAC1BF,mBAAOE,iBAAP;AACH,SAFD,MAEO,IAAIF,OAAOG,oBAAX,EAAiC;AACpCH,mBAAOG,oBAAP;AACH,SAFM,MAEA,IAAIH,OAAOI,uBAAX,EAAoC;AACvCJ,mBAAOI,uBAAP;AACH,SAFM,MAEA,IAAIJ,OAAOK,mBAAX,EAAgC;AACnCL,mBAAOK,mBAAP;AACH;AACDjB,uBAAeW,IAAf,CAAoB,OAApB,EAA6B,MAA7B;AACH;AACJ;AACD;;;AAGO,SAASvD,cAAT,GAA0B;AAC7B,QAAI8D,KAAK1D,OAAO2D,SAAP,CAAiBC,SAAjB,CAA2BC,WAA3B,EAAT;AACA,QAAInC,QAAQ,EAAZ;AACA,QAAIN,MAAM;AACN0C,cAAM,+BADA;AAENC,cAAM,kBAFA;AAGNC,iBAAS,qBAHH;AAINC,eAAO,4BAJD;AAKNC,gBAAQ,oBALF;AAMNC,gBAAQ;AANF,KAAV;AAQAzC,YAAQN,IAAI0C,IAAJ,CAASM,IAAT,CAAcV,EAAd,CAAR;AACA,QAAIhC,SAAS,IAAb,EAAmB;AACf,eAAO,EAAE2C,SAAS,IAAX,EAAiBC,SAASlC,SAASV,MAAM,CAAN,CAAT,KAAsB,CAAhD,EAAP;AACH;AACDA,YAAQN,IAAI2C,IAAJ,CAASK,IAAT,CAAcV,EAAd,CAAR;AACA,QAAIhC,SAAS,IAAb,EAAmB;AACf,eAAO,EAAE2C,SAAS,MAAX,EAAmBC,SAASlC,SAASV,MAAM,CAAN,CAAT,KAAsB,CAAlD,EAAP;AACH;AACDA,YAAQN,IAAI4C,OAAJ,CAAYI,IAAZ,CAAiBV,EAAjB,CAAR;AACA,QAAIhC,SAAS,IAAb,EAAmB;AACf,eAAO,EAAE2C,SAAS,SAAX,EAAsBC,SAASlC,SAASV,MAAM,CAAN,CAAT,KAAsB,CAArD,EAAP;AACH;AACDA,YAAQN,IAAI6C,KAAJ,CAAUG,IAAV,CAAeV,EAAf,CAAR;AACA,QAAIhC,SAAS,IAAb,EAAmB;AACf,eAAO,EAAE2C,SAAS,OAAX,EAAoBC,SAASlC,SAASV,MAAM,CAAN,CAAT,KAAsB,CAAnD,EAAP;AACH;AACDA,YAAQN,IAAI8C,MAAJ,CAAWE,IAAX,CAAgBV,EAAhB,CAAR;AACA,QAAIhC,SAAS,IAAb,EAAmB;AACf,eAAO,EAAE2C,SAAS,QAAX,EAAqBC,SAASlC,SAASV,MAAM,CAAN,CAAT,KAAsB,CAApD,EAAP;AACH;AACDA,YAAQN,IAAI+C,MAAJ,CAAWC,IAAX,CAAgBV,EAAhB,CAAR;AACA,QAAIhC,SAAS,IAAb,EAAmB;AACf,eAAO,EAAE2C,SAAS,QAAX,EAAqBC,SAASlC,SAASV,MAAM,CAAN,CAAT,KAAsB,CAApD,EAAP;AACH;AACJ;AACD;;;AAGO,SAAS7B,OAAT,CAAiB0E,GAAjB,EAAsBC,MAAtB,EAA8B;AACjC,WAAO,CAACC,MAAMD,MAAN,EAAcE,IAAd,CAAmB,GAAnB,IAA0BH,GAA3B,EAAgCI,KAAhC,CAAsC,CAACH,MAAvC,CAAP;AACH;AACD;;;AAGO,SAAS1E,OAAT,CAAiB8E,KAAjB,EAAwB;AAC3B,QAAIA,UAAUC,SAAd,EAAyB;AACrB,YAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC3BA,oBAAQA,MAAME,OAAN,CAAc,KAAd,EAAqB,GAArB,CAAR;AACH;AACD,eAAO,IAAIC,IAAJ,CAASH,KAAT,CAAP;AACH,KALD,MAKO;AACH,eAAO,IAAIG,IAAJ,EAAP;AACH;AACJ;AACD;AACO,SAAShF,MAAT,CAAgBiF,IAAhB,EAAsB;AACzB,WAAOA,gBAAgBD,IAAhB,IAAwBC,KAAKC,QAAL,OAAoB,cAAnD;AACH;AACD;;;AAGAC,OAAOC,SAAP,CAAiBC,MAAjB,GAA0B,UAASC,IAAT,EAAe;AACrC,QAAIC,SAAS,IAAb;AACA,QAAIlE,MAAM,EAAV;AACA,QAAImE,UAAUf,MAAV,GAAmB,CAAvB,EAA0B;AACtB,YAAIe,UAAUf,MAAV,IAAoB,CAApB,IAAyB,QAAOa,IAAP,yCAAOA,IAAP,MAAe,QAA5C,EAAsD;AAClD,iBAAK,IAAIG,GAAT,IAAgBH,IAAhB,EAAsB;AAClB,oBAAIA,KAAKG,GAAL,KAAaX,SAAjB,EAA4B;AACxBzD,0BAAM,IAAIC,MAAJ,CAAW,OAAOmE,GAAP,GAAa,IAAxB,EAA8B,GAA9B,CAAN;AACAF,6BAASA,OAAOR,OAAP,CAAe1D,GAAf,EAAoBiE,KAAKG,GAAL,CAApB,CAAT;AACH;AACJ;AACJ,SAPD,MAOO;AACH,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,UAAUf,MAA9B,EAAsCiB,GAAtC,EAA2C;AACvC,oBAAIF,UAAUE,CAAV,KAAgBZ,SAApB,EAA+B;AAC3BzD,0BAAM,IAAIC,MAAJ,CAAW,QAAQoE,CAAR,GAAY,KAAvB,EAA8B,GAA9B,CAAN;AACAH,6BAASA,OAAOR,OAAP,CAAe1D,GAAf,EAAoBmE,UAAUE,CAAV,CAApB,CAAT;AACH;AACJ;AACJ;AACJ;AACD,WAAOH,MAAP;AACH,CArBD;AAsBA;;;AAGAP,KAAKI,SAAL,CAAeC,MAAf,GAAwB,UAASM,GAAT,EAAc;AAClC,QAAI,CAACA,GAAL,EAAU;AACNA,cAAM,YAAN;AACH;AACD,QAAIC,IAAI;AACJ,cAAM,KAAKC,QAAL,KAAkB,CADpB;AAEJ,cAAM,KAAKC,OAAL,EAFF;AAGJ,cAAM,KAAKC,QAAL,EAHF;AAIJ,cAAM,KAAKC,UAAL,EAJF;AAKJ,cAAM,KAAKC,UAAL,EALF;AAMJ,cAAMnE,KAAKoE,KAAL,CAAW,CAAC,KAAKL,QAAL,KAAkB,CAAnB,IAAwB,CAAnC,CANF;AAOJM,WAAG,KAAKC,eAAL;AAPC,KAAR;AASA,QAAI,OAAOC,IAAP,CAAYV,GAAZ,CAAJ,EAAsBA,MAAMA,IAAIZ,OAAJ,CAAYzD,OAAOgF,EAAnB,EAAuB,CAAC,KAAKC,WAAL,KAAqB,EAAtB,EAA0B7E,MAA1B,CAAiC,IAAIJ,OAAOgF,EAAP,CAAU7B,MAA/C,CAAvB,CAAN;AACtB,SAAK,IAAI+B,CAAT,IAAcZ,CAAd;AACI,YAAI,IAAItE,MAAJ,CAAW,MAAMkF,CAAN,GAAU,GAArB,EAA0BH,IAA1B,CAA+BV,GAA/B,CAAJ,EACIA,MAAMA,IAAIZ,OAAJ,CAAYzD,OAAOgF,EAAnB,EAAuBhF,OAAOgF,EAAP,CAAU7B,MAAV,IAAoB,CAApB,GAAwBmB,EAAEY,CAAF,CAAxB,GAA+B,CAAC,OAAOZ,EAAEY,CAAF,CAAR,EAAc9E,MAAd,CAAqB,CAAC,KAAKkE,EAAEY,CAAF,CAAN,EAAY/B,MAAjC,CAAtD,CAAN;AAFR,KAGA,OAAOkB,GAAP;AACH,CAlBD;AAmBA;;;AAGAX,KAAKI,SAAL,CAAeqB,YAAf,GAA8B,YAAW;AACrC,WAAO,KAAKZ,QAAL,KAAkB,CAAzB;AACH,CAFD;AAGA;;;AAGAb,KAAKI,SAAL,CAAesB,YAAf,GAA8B,UAASC,KAAT,EAAgB;AAC1C,SAAKC,QAAL,CAAcD,QAAQ,CAAtB;AACH,CAFD;AAGA;;;AAGApG,EAAEsG,EAAF,CAAKC,aAAL,GAAqB,YAAW;AAC5B,QAAIC,eAAe,EAAnB;AACA,QAAIC,QAAQ,KAAKC,cAAL,EAAZ;AACA,QAAIC,MAAM,KAAKC,SAAL,EAAV;AACA5G,MAAEyG,KAAF,EAASI,IAAT,CAAc,YAAW;AACrB,YAAIL,aAAa,KAAK3F,IAAlB,CAAJ,EAA6B;AACzB,gBAAIb,EAAE+B,OAAF,CAAUyE,aAAa,KAAK3F,IAAlB,CAAV,CAAJ,EAAwC;AACpC2F,6BAAa,KAAK3F,IAAlB,EAAwBiG,IAAxB,CAA6B,KAAKxC,KAAlC;AACH,aAFD,MAEO;AACHkC,6BAAa,KAAK3F,IAAlB,IAA0B,CAAC2F,aAAa,KAAK3F,IAAlB,CAAD,EAA0B,KAAKyD,KAA/B,CAA1B;AACH;AACJ,SAND,MAMO;AACHkC,yBAAa,KAAK3F,IAAlB,IAA0B,KAAKyD,KAA/B;AACH;AACJ,KAVD;AAWA,WAAOkC,YAAP;AACH,CAhBD","file":"gd_tools.js","sourcesContent":["//console.log简化\r\nwindow.log = console.log;\r\n/**\r\n * 通用Get Ajax\r\n */\r\nexport function get(url, data, callback) {\r\n    if (typeof data === 'function') {\r\n        callback = data;\r\n        data = '';\r\n    }\r\n    $.ajax({\r\n        type: 'get',\r\n        url: url,\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function(response, status, xhr) {\r\n            callback(response, status, xhr);\r\n        },\r\n        error: function(xhr, errorText, errorStatus) {\r\n            callback(\r\n                {\r\n                    resultCode: -1,\r\n                    resultMsg: errorText\r\n                },\r\n                errorStatus,\r\n                xhr\r\n            );\r\n        }\r\n    });\r\n}\r\n/**\r\n * 通用Post Ajax\r\n */\r\nexport function post(url, data, callback) {\r\n    $.ajax({\r\n        type: 'post',\r\n        url: url,\r\n        data: data,\r\n        dataType: 'json',\r\n        success: function(response, status, xhr) {\r\n            callback(response, status, xhr);\r\n        },\r\n        error: function(xhr, errorText, errorStatus) {\r\n            callback(\r\n                {\r\n                    resultCode: -1,\r\n                    resultMsg: errorText\r\n                },\r\n                errorStatus,\r\n                xhr\r\n            );\r\n        }\r\n    });\r\n}\r\n/**\r\n * 获取url传参\r\n */\r\nexport function query(name) {\r\n    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n    var param = window.location.search.substr(1).match(reg);\r\n    if (param !== null) {\r\n        return unescape(param[2]);\r\n    } else {\r\n        return '';\r\n    }\r\n}\r\n/**\r\n * 获取页面中最大zIndex\r\n */\r\nexport function getMaxZIndex() {\r\n    var maxZ = Math.max.apply(\r\n        null,\r\n        $.map($('body *'), function(e, n) {\r\n            if ($(e).css('position') != 'static') return parseInt($(e).css('z-index')) || 0;\r\n        })\r\n    );\r\n    return maxZ;\r\n}\r\n/**\r\n * 数据深复制\r\n */\r\nexport function clone(data) {\r\n    if($.isArray(data)){\r\n        return $.extend(true, [], data);\r\n    }else if($.isPlainObject(data)){\r\n        return $.extend(true, {}, data);\r\n    } else {\r\n        return data;\r\n    }\r\n}\r\n/**\r\n * 切换全屏\r\n */\r\nexport function toggleFullscreen() {\r\n    var fullscreenNode = $('.gd-topbar').find('i.icon-fullscreen-hex');\r\n    if (\r\n        document.fullscreenElement ||\r\n        document.msFullscreenElement ||\r\n        document.mozFullScreenElement ||\r\n        document.webkitFullscreenElement\r\n    ) {\r\n        if (document.exitFullscreen) {\r\n            document.exitFullscreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n            document.mozCancelFullScreen();\r\n        } else if (document.webkitCancelFullScreen) {\r\n            document.webkitCancelFullScreen();\r\n        } else if (document.msExitFullscreen) {\r\n            document.msExitFullscreen();\r\n        }\r\n        fullscreenNode.attr('title', '全屏');\r\n    } else {\r\n        var docElm = document.documentElement;\r\n        if (docElm.requestFullscreen) {\r\n            docElm.requestFullscreen();\r\n        } else if (docElm.mozRequestFullScreen) {\r\n            docElm.mozRequestFullScreen();\r\n        } else if (docElm.webkitRequestFullScreen) {\r\n            docElm.webkitRequestFullScreen();\r\n        } else if (docElm.msRequestFullscreen) {\r\n            docElm.msRequestFullscreen();\r\n        }\r\n        fullscreenNode.attr('title', '退出全屏');\r\n    }\r\n}\r\n/**\r\n * 检测浏览器版本\r\n */\r\nexport function getBrowserInfo() {\r\n    let ua = window.navigator.userAgent.toLowerCase();\r\n    let match = '';\r\n    let reg = {\r\n        msie: /(msie\\s|trident.*rv:)([\\w.]+)/,\r\n        edge: /(edge)\\/([\\d.]+)/,\r\n        firefox: /(firefox)\\/([\\w.]+)/,\r\n        opera: /(opera).+version\\/([\\w.]+)/,\r\n        chrome: /(chrome)\\/([\\w.]+)/,\r\n        safari: /version\\/([\\w.]+).*(safari)/\r\n    };\r\n    match = reg.msie.exec(ua);\r\n    if (match != null) {\r\n        return { browser: 'ie', version: parseInt(match[2]) || 0 };\r\n    }\r\n    match = reg.edge.exec(ua);\r\n    if (match != null) {\r\n        return { browser: 'edge', version: parseInt(match[2]) || 0 };\r\n    }\r\n    match = reg.firefox.exec(ua);\r\n    if (match != null) {\r\n        return { browser: 'firefox', version: parseInt(match[2]) || 0 };\r\n    }\r\n    match = reg.opera.exec(ua);\r\n    if (match != null) {\r\n        return { browser: 'opera', version: parseInt(match[2]) || 0 };\r\n    }\r\n    match = reg.chrome.exec(ua);\r\n    if (match != null) {\r\n        return { browser: 'chrome', version: parseInt(match[2]) || 0 };\r\n    }\r\n    match = reg.safari.exec(ua);\r\n    if (match != null) {\r\n        return { browser: 'safari', version: parseInt(match[2]) || 0 };\r\n    }\r\n}\r\n/**\r\n * 数字位数不足前面补0\r\n */\r\nexport function padLeft(num, length) {\r\n    return (Array(length).join('0') + num).slice(-length);\r\n}\r\n/**\r\n * 创建日期对象\r\n */\r\nexport function newDate(value) {\r\n    if (value !== undefined) {\r\n        if (typeof value === 'string') {\r\n            value = value.replace(/\\-/g, '/');\r\n        }\r\n        return new Date(value);\r\n    } else {\r\n        return new Date();\r\n    }\r\n}\r\n//判断是否是有效日期\r\nexport function isDate(date) {\r\n    return date instanceof Date && date.toString() !== 'Invalid Date';\r\n}\r\n/**\r\n * 字符串格式化\r\n */\r\nString.prototype.format = function(args) {\r\n    var result = this;\r\n    var reg = '';\r\n    if (arguments.length > 0) {\r\n        if (arguments.length == 1 && typeof args == 'object') {\r\n            for (var key in args) {\r\n                if (args[key] != undefined) {\r\n                    reg = new RegExp('({' + key + '})', 'g');\r\n                    result = result.replace(reg, args[key]);\r\n                }\r\n            }\r\n        } else {\r\n            for (var i = 0; i < arguments.length; i++) {\r\n                if (arguments[i] != undefined) {\r\n                    reg = new RegExp('({)' + i + '(})', 'g');\r\n                    result = result.replace(reg, arguments[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n};\r\n/**\r\n * 日期格式化\r\n */\r\nDate.prototype.format = function(fmt) {\r\n    if (!fmt) {\r\n        fmt = 'yyyy-MM-dd';\r\n    }\r\n    var o = {\r\n        'M+': this.getMonth() + 1,\r\n        'd+': this.getDate(),\r\n        'h+': this.getHours(),\r\n        'm+': this.getMinutes(),\r\n        's+': this.getSeconds(),\r\n        'q+': Math.floor((this.getMonth() + 3) / 3),\r\n        S: this.getMilliseconds()\r\n    };\r\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n    for (var k in o)\r\n        if (new RegExp('(' + k + ')').test(fmt))\r\n            fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\r\n    return fmt;\r\n};\r\n/**\r\n * 日期获取真实月份\r\n */\r\nDate.prototype.getRealMonth = function() {\r\n    return this.getMonth() + 1;\r\n};\r\n/**\r\n * 日期设置真实月份\r\n */\r\nDate.prototype.setRealMonth = function(month) {\r\n    this.setMonth(month - 1);\r\n};\r\n/**\r\n * 表单序列化为JSON\r\n */\r\n$.fn.serializeJSON = function() {\r\n    var serializeObj = {};\r\n    var array = this.serializeArray();\r\n    var str = this.serialize();\r\n    $(array).each(function() {\r\n        if (serializeObj[this.name]) {\r\n            if ($.isArray(serializeObj[this.name])) {\r\n                serializeObj[this.name].push(this.value);\r\n            } else {\r\n                serializeObj[this.name] = [serializeObj[this.name], this.value];\r\n            }\r\n        } else {\r\n            serializeObj[this.name] = this.value;\r\n        }\r\n    });\r\n    return serializeObj;\r\n};\r\n"]}